{"is_source_file": true, "format": "JavaScript", "description": "This file provides client-side functions to interact with a backend API for user signup, login, profile retrieval, social sign-in, and onboarding progress. It handles API URL construction, response processing, token management via localStorage, and exposes public functions for authentication workflows.", "external_files": ["process.env", "localStorage", "fetch"], "external_methods": ["localStorage.setItem", "localStorage.removeItem", "localStorage.getItem", "fetch"], "published": ["setToken", "getToken", "registerUser", "loginUser", "getMe", "socialSignIn", "getOnboardingProgress", "updateOnboardingStep"], "classes": [], "methods": [{"name": "buildUrl(path)", "description": "Constructs a full API URL based on a given path, appending it to the base URL from environment variables.", "scope": "", "scopeKind": ""}, {"name": "handleResponse(res)", "description": "Processes fetch responses, parsing JSON or text based on content-type, and throws errors for HTTP error statuses.", "scope": "", "scopeKind": ""}, {"name": "setToken(token)", "description": "Stores the authentication token in local storage for persistent user sessions.", "scope": "", "scopeKind": ""}, {"name": "getToken()", "description": "Retrieves the stored authentication token from local storage.", "scope": "", "scopeKind": ""}, {"name": "registerUser(payload)", "description": "Sends a POST request to register a new user with provided payload data.", "scope": "", "scopeKind": ""}, {"name": "loginUser(payload)", "description": "Sends a POST request to authenticate user credentials, stores token on success.", "scope": "", "scopeKind": ""}, {"name": "getMe()", "description": "Fetches current user profile data using stored bearer token.", "scope": "", "scopeKind": ""}, {"name": "socialSignIn(payload)", "description": "Performs social authentication via provider-specific tokens, stores access token upon success.", "scope": "", "scopeKind": ""}, {"name": "getOnboardingProgress()", "description": "Retrieves onboarding progress data for the current user.", "scope": "", "scopeKind": ""}, {"name": "updateOnboardingStep(payload)", "description": "Updates a specific onboarding step with new status and optional data.", "scope": "", "scopeKind": ""}], "calls": ["buildUrl", "handleResponse", "setToken", "getToken", "fetch"], "search-terms": ["signup backend API", "auth register function", "token management", "graphql fetch", "social sign-in", "onboarding progress"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEFAULT_BASE_URL", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^const DEFAULT_BASE_URL = process.env.REACT_APP_API_BASE_URL || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^function buildUrl(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "getMe", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^export async function getMe() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getOnboardingProgress", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^export async function getOnboardingProgress() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getToken", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^export function getToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "handleResponse", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^async function handleResponse(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "loginUser", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^export async function loginUser(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "registerUser", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^export async function registerUser(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "setToken", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^export function setToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "socialSignIn", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^export async function socialSignIn(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "updateOnboardingStep", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134635/signup_frontend/src/api.js", "pattern": "/^export async function updateOnboardingStep(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}], "hash": "e50e4367fadf1a02642a53f25eb1b268", "format-version": 4, "code-base-name": "signup_frontend", "filename": "signup_frontend/src/api.js", "revision_history": [{"27": ""}]}